<template>
  <svg class="" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1000 1000">
    <circle
      class="background"
      cx="500"
      cy="500"
      r="335.14"
      style="fill: #fff9e2"
    />
    <path
      class="round"
      d="M500,0C223.86,0,0,223.86,0,500s223.86,500,500,500,500-223.86,500-500S776.14,0,500,0Zm0,778.72c-153.93,0-278.72-124.79-278.72-278.72S346.07,221.28,500,221.28,778.72,346.07,778.72,500,653.93,778.72,500,778.72Z"
    />
    <path
      class="icon"
      d="M651.87,334.73c-5.4-3.86-12.54.86-15.59,2.88A160.14,160.14,0,0,0,619.61,351c-11.18,10-25.91,24.38-43.78,42.87s-35.25,37.3-46.69,49.84c.87-7.16,1.79-15.58,2.47-24,3.24-40.24-1-50.23-8.42-52.85-9.08-3.22-17.12,8.1-23.79,19.6-36.8,63.46-43.71,75.8-43.77,75.91a6.1,6.1,0,0,0,10.57,6.11c.1-.16,10-16.75,21.33-33.75,14.68-22.07,22.18-30.54,25.64-33.77,1,3.82,2.25,12.4,2.18,31.18-.06,15-1,29.1-1,29.88a5.79,5.79,0,0,0,.14,1.81h0a6.55,6.55,0,0,0,.57,1.49h0a6.12,6.12,0,0,0,2.16,2.3h0l.49.27h.08a6.11,6.11,0,0,0,7.05-1.32l.08-.09c.19-.2,19.06-20.9,39.91-41.29,24.92-24.37,37.78-33.76,44.11-37.38-4.5,12.26-16.78,37.63-28.28,59.31v.07l-5,9.7c-.11.16-.22.33-.32.51-.2.36-20.1,37.05-41.34,74.49-27.56,48.59-40,67.89-45.62,75.54-1-5.52-2.2-16.43-2.4-37.68-.18-19,.51-36.89.55-37.9a6.07,6.07,0,0,0-.13-1.59h0a6.2,6.2,0,0,0-.71-1.8h0a6.15,6.15,0,0,0-1.81-1.92h0a6.67,6.67,0,0,0-.94-.53,6.05,6.05,0,0,0-3-.5h-.32a6.12,6.12,0,0,0-3.78,2c-.42.47-20.57,23.32-42.71,46-13,13.32-24.12,24-33,31.63s-13.91,10.9-16.78,12.41a46.06,46.06,0,0,1,3.68-8.5l56.57-99.93a6.11,6.11,0,0,0-10.41-6.37c-.2.31-20.57,31.42-76.58,128.31-11.17,19.33-15.31,29.37-8.62,34.17a7.36,7.36,0,0,0,4.41,1.46c5.43,0,13.2-5.56,27.66-19.07,11.2-10.48,26.05-25.57,44.14-44.87s35.74-38.9,47.37-52c-1,8.16-2.17,18-3,27.84-3.87,46.47,2,55.3,8.84,57.91,2.83,1.08,7.39,1.33,13-3.56,3.37-2.94,7-7.58,11.25-14.18,19.48-30.67,70.89-123,87.59-153.27,14.33-24.67,32.82-56.93,54.62-95.84,4.91-8.76,8.13-15.4,9.86-20.33C654.72,346.49,657.45,338.71,651.87,334.73Z"
    />
    <g opacity="0" class="letters">
      <path
        d="M107.23,311.9l10.25-16.54,74.78,14.26L146.2,249l10.16-16.4,91.15,56.47-8.87,14.33-61.72-38.25,40.88,53.27-6.29,10.15-65.9-12.89,61.73,38.24-9,14.45Z"
        style="fill: #fff9e2"
      />
      <path
        d="M232.18,158.5l53.52-36.23,8.85,13.06L255.1,162,270,184l31.84-21.55,8.75,12.94-31.83,21.55,18.8,27.78,40.72-27.57,8.84,13.07-54.79,37.09Z"
        style="fill: #fff9e2"
      />
      <path
        d="M379.53,81.48l19.17-3.33,39,65.36,14.69-74.7,19-3.3,18.36,105.65L473.21,174l-12.43-71.5-12.64,65.95-11.77,2.05-34.16-57.82,12.44,71.54-16.75,2.91Z"
        style="fill: #fff9e2"
      />
      <path
        d="M623.23,83.64c25.94,7.35,42.28,33.11,31.9,66.62-9.51,33.77-37.24,46.5-63,38.56-26-7.35-42.29-33.11-31.91-66.62C569.73,88.43,597.46,75.7,623.23,83.64Zm-4.48,15.13c-17.19-5.08-34.54,3.36-41.93,28.34s2.59,41.5,19.78,46.58,34.54-3.37,41.93-28.34S635.94,103.85,618.75,98.77Z"
        style="fill: #fff9e2"
      />
      <path
        d="M757.77,150.39l28.41,24.76c15.36,13.39,16.79,29.47,4.8,43.22-9.66,11.08-22.06,13.89-34.34,7.45l-9.41,57.65L732.91,271l9-56.21-10-8.76L700.12,242.4,687.3,231.22Zm0,57.33c7,6.14,14.23,6.51,20.38-.53,5.94-6.81,5.15-13.6-2.36-20.14L760.2,173.46l-18,20.67Z"
        style="fill: #fff9e2"
      />
      <path
        d="M823.5,316.77l39.09-56.68,8.78,16.32-29,39.8,49.21-2.29,8.78,16.33-68.84,1.36L791,353.38l-8-14.84Z"
        style="fill: #fff9e2"
      />
      <path
        d="M243.66,717.88l14.53,12.94L231.29,802l67.63-35,14.42,12.83L242,860l-12.56-11.2,48.29-54.23-59.5,31.12-8.93-8,24-62.7L185,809.23,172.35,798Z"
        style="fill: #fff9e2"
      />
      <path
        d="M403.86,817.87c25.9,7.5,42.1,33.35,31.52,66.8-9.7,33.72-37.5,46.28-63.22,38.2-25.9-7.5-42.1-33.36-31.52-66.8C350.34,822.35,378.14,809.78,403.86,817.87ZM399.3,833c-17.16-5.18-34.56,3.17-42.09,28.1s2.35,41.51,19.51,46.69,34.56-3.16,42.08-28.09S416.46,838.15,399.3,833Z"
        style="fill: #fff9e2"
      />
      <path
        d="M518.27,848.61l-30.4,2.3-1.19-15.74,77.75-5.86L565.62,845l-30.4,2.29,6.88,91.19-17,1.28Z"
        style="fill: #fff9e2"
      />
      <path
        d="M608.55,816.64l59-26.52L674,804.51l-43.45,19.55,10.87,24.16,35.07-15.77,6.41,14.25-35.07,15.77,13.77,30.6,44.84-20.18,6.48,14.39-60.35,27.15Z"
        style="fill: #fff9e2"
      />
      <path
        d="M711.36,759.14l12.21-11.83L787.19,813l33.67-32.6,11,11.33L786,836.17Z"
        style="fill: #fff9e2"
      />
    </g>
    <circle class="circle-in" cx="500.02" cy="499.97" r="335.12" />
    <circle class="circle-mid" cx="500" cy="500" r="385.46" />
    <circle class="circle-out" cx="500.02" cy="499.97" r="429.47" />
  </svg>
</template>

<script>
import gsap from 'gsap';

export default {
  name: 'loader',
  data() {
    return {
      tl: gsap.timeline({ repeat: -1 }),
    };
  },
  mounted() {
    this.initTl();
  },
  methods: {
    initTl() {
      this.tl.add(this.circleTurn());
      /* this.tl.fromTo(
        '.icon',
        {
          opacity: 0,
        },
        {
          opacity: 1,
        }
      ); */
    },
    circleTurn() {
      return gsap
        .timeline()
        .fromTo(
          '.circle-out',
          {
            strokeDashoffset: '0%',
            strokeDasharray: 650,
          },
          {
            strokeDashoffset: '289%',
            strokeDasharray: 650,
            duration: 0.8,
          },
          'start'
        )
        .fromTo(
          '.circle-mid',
          {
            strokeDashoffset: '-40%',
            strokeDasharray: 630,
          },
          {
            strokeDashoffset: '38%',
            strokeDasharray: 630,
            delay: 0.2,
            duration: 0.6,
          },
          'start'
        )
        .fromTo(
          '.circle-in',
          {
            strokeDashoffset: '-50%',
            strokeDasharray: 360,
          },
          {
            strokeDashoffset: '50%',
            strokeDasharray: 360,
            delay: 0.2,
            duration: 0.6,
          },
          'start'
        );
    },
  },
};
</script>

<style scoped>
.circle-out {
  fill: none;
  stroke: #fff9e2;
  stroke-miterlimit: 10;
  stroke-width: 10px;
}
.circle-mid {
  fill: none;
  stroke: #fff9e2;
  stroke-miterlimit: 10;
  stroke-width: 10px;
}
.circle-in {
  fill: none;
  stroke: #fff9e2;
  stroke-miterlimit: 10;
  stroke-width: 10px;
}
</style>
